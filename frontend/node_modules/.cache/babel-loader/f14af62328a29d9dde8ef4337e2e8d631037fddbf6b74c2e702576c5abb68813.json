{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\natan\\\\Documents\\\\mev\\\\mev_Estante_Virtual\\\\frontend\\\\src\\\\components\\\\progresso\\\\ProgressoForm.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProgressoForm = () => {\n  _s();\n  const {\n    livroId\n  } = useParams();\n  const navigate = useNavigate();\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [livro, setLivro] = useState(null);\n  const [progresso, setProgresso] = useState({\n    paginaAtual: 0,\n    totalPaginas: 0,\n    comentario: \"\",\n    percentualConcluido: 0\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setIsLoading(true);\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n          navigate(\"/login\");\n          return;\n        }\n\n        // Buscar dados do livro\n        const livroResponse = await axios.get(`http://localhost:5000/api/livros/${livroId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setLivro(livroResponse.data);\n\n        // Buscar progresso existente\n        try {\n          const progressoResponse = await axios.get(`http://localhost:5000/api/progresso/${livroId}`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          setProgresso(progressoResponse.data);\n        } catch (err) {\n          // Se não existir progresso, criar um objeto vazio\n          setProgresso({\n            paginaAtual: 0,\n            totalPaginas: 100,\n            // Valor padrão\n            comentario: \"\",\n            percentualConcluido: 0\n          });\n        }\n        setIsLoading(false);\n      } catch (error) {\n        var _error$response, _error$response2;\n        setError(\"Erro ao carregar dados\");\n        setIsLoading(false);\n        console.error(\"Erro ao buscar dados:\", error);\n\n        // Se o token for inválido, redirecionar para login\n        if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401 || ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.status) === 403) {\n          localStorage.removeItem(\"token\");\n          navigate(\"/login\");\n        }\n      }\n    };\n    fetchData();\n  }, [livroId, navigate]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    if (name === \"paginaAtual\") {\n      const paginaAtual = Math.min(Math.max(0, Number(value)), progresso.totalPaginas);\n      const percentualConcluido = Math.round(paginaAtual / progresso.totalPaginas * 100);\n      setProgresso(prev => ({\n        ...prev,\n        paginaAtual,\n        percentualConcluido\n      }));\n    } else {\n      setProgresso(prev => ({\n        ...prev,\n        [name]: name === \"totalPaginas\" ? Number(value) : value\n      }));\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(\"\");\n    try {\n      setIsLoading(true);\n      const token = localStorage.getItem(\"token\");\n      await axios.post(`http://localhost:5000/api/progresso/${livroId}`, {\n        paginaAtual: progresso.paginaAtual,\n        totalPaginas: progresso.totalPaginas,\n        comentario: progresso.comentario\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      setIsLoading(false);\n      navigate(\"/livros\");\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      setError(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || \"Erro ao salvar progresso\");\n      setIsLoading(false);\n      console.error(\"Erro ao salvar progresso:\", error);\n    }\n  };\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this);\n  }\n  if (!livro) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-2xl mx-auto p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",\n        children: \"Livro n\\xE3o encontrado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(\"/livros\"),\n        className: \"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\",\n        children: \"Voltar para a lista\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-2\",\n      children: \"Atualizar Progresso de Leitura\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-xl mb-6\",\n      children: [livro.titulo, \" - \", livro.autor]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"totalPaginas\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Total de P\\xE1ginas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"totalPaginas\",\n          name: \"totalPaginas\",\n          value: progresso.totalPaginas,\n          onChange: handleChange,\n          min: \"1\",\n          required: true,\n          className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"paginaAtual\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"P\\xE1gina Atual\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          id: \"paginaAtual\",\n          name: \"paginaAtual\",\n          value: progresso.paginaAtual,\n          onChange: handleChange,\n          min: \"0\",\n          max: progresso.totalPaginas,\n          required: true,\n          className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between text-xs text-gray-600 mb-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Progresso: \", progresso.percentualConcluido, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [progresso.paginaAtual, \" de \", progresso.totalPaginas, \" p\\xE1ginas\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-gray-200 rounded-full h-2.5\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-600 h-2.5 rounded-full\",\n            style: {\n              width: `${progresso.percentualConcluido}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"comentario\",\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Coment\\xE1rio / Anota\\xE7\\xF5es\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"comentario\",\n          name: \"comentario\",\n          value: progresso.comentario,\n          onChange: handleChange,\n          rows: \"4\",\n          className: \"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between pt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => navigate(\"/livros\"),\n          className: \"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: isLoading,\n          className: \"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\",\n          children: isLoading ? \"Salvando...\" : \"Salvar Progresso\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n};\n_s(ProgressoForm, \"FCy6/ICI1w3Ay3hsJsBDz5kJRJY=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ProgressoForm;\nexport default ProgressoForm;\nvar _c;\n$RefreshReg$(_c, \"ProgressoForm\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useState","useEffect","useNavigate","useParams","axios","jsxDEV","_jsxDEV","ProgressoForm","livroId","navigate","isLoading","setIsLoading","error","setError","livro","setLivro","progresso","setProgresso","paginaAtual","totalPaginas","comentario","percentualConcluido","fetchData","token","localStorage","getItem","livroResponse","get","headers","Authorization","data","progressoResponse","err","_error$response","_error$response2","console","response","status","removeItem","handleChange","e","name","value","target","Math","min","max","Number","round","prev","handleSubmit","preventDefault","post","_error$response3","_error$response3$data","message","className","children","fileName","lineNumber","columnNumber","onClick","titulo","autor","onSubmit","htmlFor","type","id","onChange","required","style","width","rows","disabled","_c","$RefreshReg$"],"sources":["C:/Users/natan/Documents/mev/mev_Estante_Virtual/frontend/src/components/progresso/ProgressoForm.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { useNavigate, useParams } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\n\r\nconst ProgressoForm = () => {\r\n  const { livroId } = useParams()\r\n  const navigate = useNavigate()\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [error, setError] = useState(\"\")\r\n  const [livro, setLivro] = useState(null)\r\n  const [progresso, setProgresso] = useState({\r\n    paginaAtual: 0,\r\n    totalPaginas: 0,\r\n    comentario: \"\",\r\n    percentualConcluido: 0,\r\n  })\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setIsLoading(true)\r\n        const token = localStorage.getItem(\"token\")\r\n\r\n        if (!token) {\r\n          navigate(\"/login\")\r\n          return\r\n        }\r\n\r\n        // Buscar dados do livro\r\n        const livroResponse = await axios.get(`http://localhost:5000/api/livros/${livroId}`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        })\r\n\r\n        setLivro(livroResponse.data)\r\n\r\n        // Buscar progresso existente\r\n        try {\r\n          const progressoResponse = await axios.get(`http://localhost:5000/api/progresso/${livroId}`, {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          })\r\n\r\n          setProgresso(progressoResponse.data)\r\n        } catch (err) {\r\n          // Se não existir progresso, criar um objeto vazio\r\n          setProgresso({\r\n            paginaAtual: 0,\r\n            totalPaginas: 100, // Valor padrão\r\n            comentario: \"\",\r\n            percentualConcluido: 0,\r\n          })\r\n        }\r\n\r\n        setIsLoading(false)\r\n      } catch (error) {\r\n        setError(\"Erro ao carregar dados\")\r\n        setIsLoading(false)\r\n        console.error(\"Erro ao buscar dados:\", error)\r\n\r\n        // Se o token for inválido, redirecionar para login\r\n        if (error.response?.status === 401 || error.response?.status === 403) {\r\n          localStorage.removeItem(\"token\")\r\n          navigate(\"/login\")\r\n        }\r\n      }\r\n    }\r\n\r\n    fetchData()\r\n  }, [livroId, navigate])\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target\r\n\r\n    if (name === \"paginaAtual\") {\r\n      const paginaAtual = Math.min(Math.max(0, Number(value)), progresso.totalPaginas)\r\n      const percentualConcluido = Math.round((paginaAtual / progresso.totalPaginas) * 100)\r\n\r\n      setProgresso((prev) => ({\r\n        ...prev,\r\n        paginaAtual,\r\n        percentualConcluido,\r\n      }))\r\n    } else {\r\n      setProgresso((prev) => ({\r\n        ...prev,\r\n        [name]: name === \"totalPaginas\" ? Number(value) : value,\r\n      }))\r\n    }\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    setError(\"\")\r\n\r\n    try {\r\n      setIsLoading(true)\r\n      const token = localStorage.getItem(\"token\")\r\n\r\n      await axios.post(\r\n        `http://localhost:5000/api/progresso/${livroId}`,\r\n        {\r\n          paginaAtual: progresso.paginaAtual,\r\n          totalPaginas: progresso.totalPaginas,\r\n          comentario: progresso.comentario,\r\n        },\r\n        {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        },\r\n      )\r\n\r\n      setIsLoading(false)\r\n      navigate(\"/livros\")\r\n    } catch (error) {\r\n      setError(error.response?.data?.message || \"Erro ao salvar progresso\")\r\n      setIsLoading(false)\r\n      console.error(\"Erro ao salvar progresso:\", error)\r\n    }\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (!livro) {\r\n    return (\r\n      <div className=\"max-w-2xl mx-auto p-4\">\r\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">Livro não encontrado</div>\r\n        <button\r\n          onClick={() => navigate(\"/livros\")}\r\n          className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\r\n        >\r\n          Voltar para a lista\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-2xl mx-auto p-4\">\r\n      <h2 className=\"text-2xl font-bold mb-2\">Atualizar Progresso de Leitura</h2>\r\n      <h3 className=\"text-xl mb-6\">\r\n        {livro.titulo} - {livro.autor}\r\n      </h3>\r\n\r\n      {error && <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\">{error}</div>}\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        <div>\r\n          <label htmlFor=\"totalPaginas\" className=\"block text-sm font-medium text-gray-700\">\r\n            Total de Páginas\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            id=\"totalPaginas\"\r\n            name=\"totalPaginas\"\r\n            value={progresso.totalPaginas}\r\n            onChange={handleChange}\r\n            min=\"1\"\r\n            required\r\n            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"paginaAtual\" className=\"block text-sm font-medium text-gray-700\">\r\n            Página Atual\r\n          </label>\r\n          <input\r\n            type=\"number\"\r\n            id=\"paginaAtual\"\r\n            name=\"paginaAtual\"\r\n            value={progresso.paginaAtual}\r\n            onChange={handleChange}\r\n            min=\"0\"\r\n            max={progresso.totalPaginas}\r\n            required\r\n            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\r\n          />\r\n        </div>\r\n\r\n        <div className=\"mt-2\">\r\n          <div className=\"flex justify-between text-xs text-gray-600 mb-1\">\r\n            <span>Progresso: {progresso.percentualConcluido}%</span>\r\n            <span>\r\n              {progresso.paginaAtual} de {progresso.totalPaginas} páginas\r\n            </span>\r\n          </div>\r\n          <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\r\n            <div\r\n              className=\"bg-blue-600 h-2.5 rounded-full\"\r\n              style={{ width: `${progresso.percentualConcluido}%` }}\r\n            ></div>\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label htmlFor=\"comentario\" className=\"block text-sm font-medium text-gray-700\">\r\n            Comentário / Anotações\r\n          </label>\r\n          <textarea\r\n            id=\"comentario\"\r\n            name=\"comentario\"\r\n            value={progresso.comentario}\r\n            onChange={handleChange}\r\n            rows=\"4\"\r\n            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\r\n          ></textarea>\r\n        </div>\r\n\r\n        <div className=\"flex justify-between pt-4\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => navigate(\"/livros\")}\r\n            className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\r\n          >\r\n            Cancelar\r\n          </button>\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isLoading}\r\n            className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\r\n          >\r\n            {isLoading ? \"Salvando...\" : \"Salvar Progresso\"}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ProgressoForm\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}